[{"categories":["git"],"content":"为什么需要转换SHH地址和HTTPS? SSH地址在push, pull时均不需要输入账号密码 ","date":"2021-01-02","objectID":"/posts/github_ssh%E5%9C%B0%E5%9D%80%E5%92%8Chttps%E5%9C%B0%E5%9D%80%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/:1:0","tags":["git"],"title":"SHH地址和HTTPS地址相互转换","uri":"/posts/github_ssh%E5%9C%B0%E5%9D%80%E5%92%8Chttps%E5%9C%B0%E5%9D%80%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/"},{"categories":["git"],"content":"SHH地址的特征 git@远程仓库域名:用户名/仓库名.git ","date":"2021-01-02","objectID":"/posts/github_ssh%E5%9C%B0%E5%9D%80%E5%92%8Chttps%E5%9C%B0%E5%9D%80%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/:2:0","tags":["git"],"title":"SHH地址和HTTPS地址相互转换","uri":"/posts/github_ssh%E5%9C%B0%E5%9D%80%E5%92%8Chttps%E5%9C%B0%E5%9D%80%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/"},{"categories":["git"],"content":"HTTPS地址的特征 https://远程仓库域名/用户名/仓库名.git ","date":"2021-01-02","objectID":"/posts/github_ssh%E5%9C%B0%E5%9D%80%E5%92%8Chttps%E5%9C%B0%E5%9D%80%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/:3:0","tags":["git"],"title":"SHH地址和HTTPS地址相互转换","uri":"/posts/github_ssh%E5%9C%B0%E5%9D%80%E5%92%8Chttps%E5%9C%B0%E5%9D%80%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/"},{"categories":["git"],"content":"HTTPS地址向git地址转化 修改项目的.git -\u003e config url = git@github.com:guangsizhongbin/Blog.git ","date":"2021-01-02","objectID":"/posts/github_ssh%E5%9C%B0%E5%9D%80%E5%92%8Chttps%E5%9C%B0%E5%9D%80%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/:4:0","tags":["git"],"title":"SHH地址和HTTPS地址相互转换","uri":"/posts/github_ssh%E5%9C%B0%E5%9D%80%E5%92%8Chttps%E5%9C%B0%E5%9D%80%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/"},{"categories":["git"],"content":"参考 Github SSH地址和HTTPS地址的相互转换 ","date":"2021-01-02","objectID":"/posts/github_ssh%E5%9C%B0%E5%9D%80%E5%92%8Chttps%E5%9C%B0%E5%9D%80%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/:5:0","tags":["git"],"title":"SHH地址和HTTPS地址相互转换","uri":"/posts/github_ssh%E5%9C%B0%E5%9D%80%E5%92%8Chttps%E5%9C%B0%E5%9D%80%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/"},{"categories":["hugo"],"content":"系统版本 root@vultr:~# hostnamectl Static hostname: vultr.guest Icon name: computer-vm Chassis: vm Machine ID: 014b2aed70f7e09db32693a85feeb49a Boot ID: fe9876f6146f4fb4a3187f09d94f5ab3 Virtualization: kvm Operating System: Debian GNU/Linux 9 (stretch) Kernel: Linux 4.9.0-14-amd64 Architecture: x86-64 我使用的是Debian 9 ","date":"2021-01-01","objectID":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/:1:0","tags":["git","hugo"],"title":"Github Actions 自动部署hugo至vps","uri":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/"},{"categories":["hugo"],"content":"安装宝塔 wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh \u0026\u0026 bash install.sh ","date":"2021-01-01","objectID":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/:2:0","tags":["git","hugo"],"title":"Github Actions 自动部署hugo至vps","uri":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/"},{"categories":["hugo"],"content":"上传Hugo源文件至Github 不需要上传public中的文件 Note 不跟踪某个public文件夹(git status不再提醒) 修改 .gitignore 加入 public/ 对public文件夹取消跟踪 git rm -r –cached public 删除public文件夹的跟踪，并保留在本地 git rm -r –f public 删除public文件夹的跟踪，并且删除本地文件 ","date":"2021-01-01","objectID":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/:3:0","tags":["git","hugo"],"title":"Github Actions 自动部署hugo至vps","uri":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/"},{"categories":["hugo"],"content":"Github Actions构建Hugo并用WebHook回调 ","date":"2021-01-01","objectID":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/:4:0","tags":["git","hugo"],"title":"Github Actions 自动部署hugo至vps","uri":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/"},{"categories":["hugo"],"content":"生成Access token 个人的Settings -\u003e Developer settings -\u003e Personal access tokens -\u003e Generate new token -\u003e Generate token 保存好获取到的 access token, 它只会出现一次 ","date":"2021-01-01","objectID":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/:4:1","tags":["git","hugo"],"title":"Github Actions 自动部署hugo至vps","uri":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/"},{"categories":["hugo"],"content":"添加Access Token到项目 项目Secrets -\u003e New repository secret -\u003e Add secret ","date":"2021-01-01","objectID":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/:4:2","tags":["git","hugo"],"title":"Github Actions 自动部署hugo至vps","uri":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/"},{"categories":["hugo"],"content":"宝塔安装WebHook 宝塔 -\u003e 应用搜索 -\u003e webhook ","date":"2021-01-01","objectID":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/:4:3","tags":["git","hugo"],"title":"Github Actions 自动部署hugo至vps","uri":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/"},{"categories":["hugo"],"content":"设置脚本 #!/bin/bash echo \"\" date --date='0 days ago' \"+%Y-%m-%d %H:%M:%S\" echo \"Start\" gitPath=\"/www/wwwroot/fengqigang.cn\" gitHttp=\"https://github.com/guangsizhongbin/Blog.git\" echo \"Web站点路径:$gitPath\" if [ -d \"$gitPath\" ]; then cd $gitPath if [ ! -d \".git\" ]; then echo \"在该目录下克隆 git\" git clone -b gh-pages $gitHttp gittemp mv gittemp/.git . rm -rf gittemp fi git reset --hard gh-papes git pull chown -R www:www $gitPath echo \"End\" exit else echo \"该项目路径不存在\" echo \"End\" exit fi Note date agruments --date=STRING display time described by STRING, not 'now' // 显示当前时间 $ date --date=\"0 days ago\" Sun Jan 3 10:54:04 AM CST 2021 // 显示2天之后的时间 $ date --date=\"2 days\" Tue Jan 5 10:55:14 AM CST 2021 // 显示2个星期之后的时间 $ date --date=\"2 weeks\" Sun Jan 17 10:55:22 AM CST 2021 +%Y-%m-%d %H:%M:%S %Y year %m month (01..12) %d day of month (e.g., 01) %H hour (00..23) %M minute (00..59) %S second (00..60) day of month 是小写的d // 显示当前时间 $ date '+%Y-%m-%d %H:%M:%S' 2021-01-03 11:07:00 // 显示当前时间 $ date --date=\"0 days ago\" '+%Y-%m-%d %H:%M:%S' 2021-01-03 11:08:47 git arguments -b \u003cname\u003e Instead of pointing the newly created HEAD to the branch pointed to by the cloned repository's HEAD, point to \u003cname\u003e brach instead. git reset --hard gh-pages Restes the index and working tree. Any changes to tracked files in the working tree since \u003ccommit\u003e are discarded. 退回到远程仓库中的版本 项目Actions -\u003e Set up a workflow yourself -\u003e 添加代码 -\u003e Start commit name: Deploy Hugo # 自己命名即可 on: # 设置触发条件 push: branches: - master # master 分支被更新时触发 job: # 设置触发时间 build-deploy: runs-on: ubuntu-18.04 steps: - uses: actions/checkout@v1 - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: latest - name: Build run: hugo - name: Deploy uses: peaceiris/action-gh-pages@v3 with: personal_token: ${{ secrets.personal_token}} PUBLISH_BRANCH: gh-pages # 推送至分支名称 PUBLISH_DIR: ./public # 将hugo 生成的 public 作为根目录 comit_message: ${{ github.event.head_commit.message }} ","date":"2021-01-01","objectID":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/:4:4","tags":["git","hugo"],"title":"Github Actions 自动部署hugo至vps","uri":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/"},{"categories":["hugo"],"content":"将秘钥添加至项目中的Secrets 项目的Setting -\u003e Secrets ","date":"2021-01-01","objectID":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/:4:5","tags":["git","hugo"],"title":"Github Actions 自动部署hugo至vps","uri":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/"},{"categories":["hugo"],"content":"添加Github Actions workflow 事件 - name: Webhook uses: distributhor/workflow-webhoob@v1 env: webhook_url: ${{ secrets.WEBHOOK_URL }}$ webhook_secret: ${{ secrets.WEBHOOK_SECRET }}$ ","date":"2021-01-01","objectID":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/:4:6","tags":["git","hugo"],"title":"Github Actions 自动部署hugo至vps","uri":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/"},{"categories":["hugo"],"content":"参考 Hugo + Github Actions 实现自动化部署 ","date":"2021-01-01","objectID":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/:5:0","tags":["git","hugo"],"title":"Github Actions 自动部署hugo至vps","uri":"/posts/github_actions_%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hugo%E8%87%B3vps/"},{"categories":["git"],"content":"使用git协议克隆的好处 配置完后，每次提交均不需要输入账号密码 ","date":"2021-01-01","objectID":"/posts/%E4%BD%BF%E7%94%A8git%E5%8D%8F%E8%AE%AE%E5%85%8B%E9%9A%86/:1:0","tags":["git"],"title":"使用git协议克隆","uri":"/posts/%E4%BD%BF%E7%94%A8git%E5%8D%8F%E8%AE%AE%E5%85%8B%E9%9A%86/"},{"categories":["git"],"content":"如何配置 创建一个SSH Key $ ssh-keygen -t rsa -C \"guangsizhongbin@gmail.com\" 参数含义： -t Specifies the type of key to create. -C Provides a new comment. Enter file in which to save the key (/home/feng/.ssh/id_rsa): 参数含义： -f filename Specifies the filename of the key file. 指定生成文件的文件名（文件路径，否则会直接生成在当前目录下） 例如: ssh-keygen -t rsa -C \"guangsizhongbin@gmail.com\" -f a 会在当前路径下生成私钥a, 公钥a.pub Enter passphrase (empty for no passphrase): Enter same passphrase again: passphrase: a sequence of words used to gain access to a computer system 填写push文件时需要输入的密码 将公钥id_ras.pub传至github中（默认路径.ssh/id_ras.pub） bash: cat .ssh/id_rsa.pub github: Repositories -\u003e Settings -\u003e Deploy keys -\u003e Add deploy key -\u003e Add key 若要有push权限必须要勾选Allow write access, 否则只有read 权限 测试SSH key ssh -T git@github.com The authenticity of host 'github.com (192.30.255.112)' can't be established.RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8. Are you sure you want to continue connecting (yes/no/[fingerprint])? yes Warning: Permanently added 'github.com,192.30.255.112' (RSA) to the list of known hosts. Enter passphrase for key '/home/feng/.ssh/id_rsa': 输入创建SSH key的时候设置的密码(若有设置) Hi guangsizhongbin/Blog! You've successfully authenticated, but GitHub does not provide shell access. 此时已经设置成功了 使用git协议进行克隆 git clone git clone git@github.com:guangsizhongbin/Blog.git Cloning into 'Blog'... Enter passphrase for key '/home/feng/.ssh/id_rsa': 输入创建SSH key的时候设置的密码(若有设置) ","date":"2021-01-01","objectID":"/posts/%E4%BD%BF%E7%94%A8git%E5%8D%8F%E8%AE%AE%E5%85%8B%E9%9A%86/:2:0","tags":["git"],"title":"使用git协议克隆","uri":"/posts/%E4%BD%BF%E7%94%A8git%E5%8D%8F%E8%AE%AE%E5%85%8B%E9%9A%86/"},{"categories":["git"],"content":"参考文章 1. github设置添加SSH ","date":"2021-01-01","objectID":"/posts/%E4%BD%BF%E7%94%A8git%E5%8D%8F%E8%AE%AE%E5%85%8B%E9%9A%86/:3:0","tags":["git"],"title":"使用git协议克隆","uri":"/posts/%E4%BD%BF%E7%94%A8git%E5%8D%8F%E8%AE%AE%E5%85%8B%E9%9A%86/"}]